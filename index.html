<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <title>Login via C und WebAssembly</title>
    <style>
        #geheimbild {
            display: none;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Login Test</h1>
    <label>Benutzername: <input id="user" type="text" /></label><br />
    <label>Passwort: <input id="pass" type="password" /></label><br />
    <button id="loginBtn">Login</button>

    <p id="result"></p>

    <!-- Bild wird erst spÃ¤ter angezeigt -->
    <img id="geheimbild" src="1.jpg" alt="Verstecktes Bild" width="300" />

    <script src="source.js"></script>
    <script>
        Module.onRuntimeInitialized = () => {
            const check_login = Module.cwrap('check_login', 'number', ['string', 'string']);

            document.getElementById('loginBtn').addEventListener('click', () => {
                const user = document.getElementById('user').value;
                const pass = document.getElementById('pass').value;

                const success = check_login(user, pass);

                document.getElementById('result').textContent = success
                    ? "Login erfolgreich!"
                    : "Login fehlgeschlagen.";

                if (success) {
                    document.getElementById('geheimbild').style.display = "block";
                } else {
                    document.getElementById('geheimbild').style.display = "none";
                }
            });
        };
    </script>
</body>
</html>



